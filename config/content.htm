<h1>About</h1>
<p>課程名稱: 網際內容管理 - Web Content Management</p>
<p>學員作業網站: https://mdewcm2025.github.io/hw-Ruiiide/content/index.html</p>
<p>學員作業倉儲: https://github.com/mdewcm2025/hw-Ruiiide.git</p>
<hr/>
<p>課程代號: wcm2025</p>
<p>Teams 線上教學:</p>
<p style="padding-left: 30px;">以 "學號@nfu.edu.tw" 登入<span> </span><a href="https://login.microsoftonline.com/">https://login.microsoftonline.com/</a><span> </span>Office 365</p>
<p style="padding-left: 30px;">Teams 團隊代碼: <span>87b7bbx</span></p>
<hr/>
<p>課程評分:</p>
<p style="padding-left: 30px;">1. 作業 (40%): 從 Github Classroom 取得的個人倉儲與網站, 每週必須至少提交 2 次與課程進度有關的內容.</p>
<p style="padding-left: 60px;">作業一 (20%): 採用 <a href="https://nginx.org/">nginx</a> 建立全球資訊網伺服器</p>
<p style="padding-left: 90px;">在 Windows 操作系統中建立一台 WWW 伺服器</p>
<p style="padding-left: 90px;">在 Ubuntu 操作系統建立一台 WWW 伺服器</p>
<p style="padding-left: 90px;">在 虛擬主機上建立一台 WWW 伺服器 (Windows and Ubuntu)</p>
<p style="padding-left: 120px;">Virtualbox</p>
<p style="padding-left: 120px;">Vmware <a href="https://blogs.vmware.com/cloud-foundation/2024/11/11/vmware-fusion-and-workstation-are-now-free-for-all-users/">最近宣布</a>適用於 Windows 及 Linux 的 Vmware Workstation Pro (<a href="https://docs.vmware.com/en/VMware-Workstation-Pro/17.6/rn/vmware-workstation-176-pro-release-notes/index.html">17.6</a>), 與適用於 MacOS 的 Vmware Fusion Pro 全面免費.</p>
<p style="padding-left: 120px;"><a href="https://support.broadcom.com/group/ecx/productdownloads?subfamily=VMware+Workstation+Pro">下載 Vmware Workstation Pro</a> (For Windows and Linux) - 註冊帳號後下載 VMware-workstation-full-17.6.2.exe</p>
<p style="padding-left: 120px;"><a href="https://support.broadcom.com/group/ecx/productdownloads?subfamily=VMware+Fusion">下載 Vmware Fusion Pro</a> (For Mac) - 註冊帳號後下載</p>
<p style="padding-left: 60px;">作業二 (20%): 在各種不同環境下的操作系統中配置 <a href="https://mde.tw/reeborg/world.html">Reeborg's world</a> (<a href="https://github.com/mdecycu/reeborg">原始碼</a>)</p>
<p style="padding-left: 30px;">2. 期中協同專案執行、簡報與報告 (三人一組) (30%)</p>
<p style="padding-left: 60px;">專案題目: 利用 Copilot 解析 <a href="https://mde.tw/reeborg/world.html">Reeborg's world</a> (<a href="https://github.com/mdecycu/reeborg">原始碼</a>)</p>
<p style="padding-left: 30px;">3. 期末協同專案執行、簡報與報告 (三人一組) (30%)</p>
<p style="padding-left: 60px;"><span>專案題目: 網際內容管理架構下的 <a href="https://mde.tw/reeborg/world.html">Reeborg's world</a> (<a href="https://github.com/mdecycu/reeborg">原始碼</a>)<br/></span></p>
<p style="padding-left: 90px;">利用 uwsgi 配置分組學員執行 cmsimde 動態內容管理系統編輯</p>
<p style="padding-left: 90px;">設法將 <a href="https://mde.tw/reeborg/world.html">Reeborg's world</a> (<a href="https://github.com/mdecycu/reeborg">原始碼</a>) 與 cmsimde 網際內容管理系統整合</p>
<h1>Homework</h1>
<p>1. 作業 (40%): 從 Github Classroom 取得的個人倉儲與網站, 每週必須至少提交 2 次與課程進度有關的內容.</p>
<p style="padding-left: 30px;">作業一 (20%): 採用 <a href="https://nginx.org/">nginx</a> 建立全球資訊網伺服器</p>
<p style="padding-left: 60px;">在 Windows 操作系統中建立一台 WWW 伺服器</p>
<p style="padding-left: 60px;">在 Ubuntu 操作系統建立一台 WWW 伺服器</p>
<p style="padding-left: 60px;">在 虛擬主機上建立一台 WWW 伺服器 (Windows and Ubuntu)</p>
<p style="padding-left: 90px;">Virtualbox</p>
<p style="padding-left: 90px;">Vmware <a href="https://blogs.vmware.com/cloud-foundation/2024/11/11/vmware-fusion-and-workstation-are-now-free-for-all-users/">最近宣布</a>適用於 Windows 及 Linux 的 Vmware Workstation Pro (<a href="https://docs.vmware.com/en/VMware-Workstation-Pro/17.6/rn/vmware-workstation-176-pro-release-notes/index.html">17.6</a>), 與適用於 MacOS 的 Vmware Fusion Pro 全面免費.</p>
<p style="padding-left: 90px;"><a href="https://support.broadcom.com/group/ecx/productdownloads?subfamily=VMware+Workstation+Pro">下載 Vmware Workstation Pro</a> (For Windows and Linux) - 註冊帳號後下載 VMware-workstation-full-17.6.2.exe</p>
<p style="padding-left: 90px;"><a href="https://support.broadcom.com/group/ecx/productdownloads?subfamily=VMware+Fusion">下載 Vmware Fusion Pro</a> (For Mac) - 註冊帳號後下載</p>
<p style="padding-left: 30px;">作業二 (20%): 在各種不同環境下的操作系統中配置 <a href="https://mde.tw/reeborg/world.html">Reeborg's world</a> (<a href="https://github.com/mdecycu/reeborg">原始碼</a>)</p>
<h2>HW1</h2>
<p>啟動 Nginx: 執行 nginx.exe, 會按照 conf/nginx.conf 中的設定內容啟動</p>
<p>關閉 Nginx: 在命令列視窗中執行 taskkill /IM nginx.exe /F</p>
<p>設定 nginx 服務: nssm install nginx</p>
<p>編輯 nginx 服務: nssm edit nginx</p>
<p>certbot.7z 指令: certbot certonly --standalone</p>
<p>對 AI 提問與 Windows 環境下 nginx.conf 設定檔案的內容:</p>
<p>在 Windows 已知僅支援 IPv6 網路協定, 且伺服器名稱為 server.mde.nfu.edu.tw, https 簽章檔案位於 nginx 的 conf 目錄中, 名稱分別為 fullchain.pem 與 privkey.pem, 其中希望 port 80 單獨伺服 html 目錄, 但是 https port 443 則其內容是從 port 8080 的 localhost 由 waitress 所提供, 請提供 nginx conf 目錄中的 nginx.conf 完整設定檔案內容.</p>
<p>上述問句取得的<span> </span><a href="https://mdewcm2025.github.io/hw-scrum-1/downloads/nginx.conf_for_hw1.txt">nginx.conf</a>, 經過修改, 將 w99.mde.nfu.edu.tw 對應的 IPV6 網址進行設定後的<span> </span><a href="https://mdewcm2025.github.io/hw-scrum-1/downloads/w99_nginx.conf.txt">nginx.conf</a>.</p>
<p>用來啟動動態網站編輯的 waitress 伺服器檔案 start_waitress.py 內容:<span> </span><a href="https://mdewcm2025.github.io/hw-scrum-1/downloads/start_waitress.py_for_hw1.txt">start_waitress.py</a></p>
<hr/>
<p>作業一 (20%): 採用<span> </span><a href="https://nginx.org/">nginx</a><span> </span>建立全球資訊網伺服器</p>
<p>在 Windows 操作系統中建立一台 WWW 伺服器</p>
<p>在 Ubuntu 操作系統建立一台 WWW 伺服器</p>
<p>在 虛擬主機上建立一台 WWW 伺服器 (Windows and Ubuntu)</p>
<p>Virtualbox</p>
<p>利用<span> </span><a href="https://mde.tw/wcm2025/content/IPv6.html">https://mde.tw/wcm2025/content/IPv6.html</a><span> </span>中所分配的 IPv6 網址建立 Windows 與 Ubuntu 主機, 配置 nginx 伺服器.</p>
<p><a href="http://229.cycu.org/win10.vdi">http://229.cycu.org/win10.vdi</a> </p>
<p><a href="http://229.cycu.org/ubuntu.vdi">http://229.cycu.org/ubuntu.vdi</a> </p>
<p><span>操作步驟 (Windows)</span>:</p>
<p>採用 Virtualbox 虛擬主機製作:</p>
<ol>
<li>下載<span> </span><a href="http://229.cycu.org/win10.vdi">http://229.cycu.org/win10.vdi</a>, 在電腦中啟動 Virtualbox 後新增虛擬主機.</li>
<li>採用 win10.vdi 建立虛擬主機後, 將網路設為橋接後啟動.</li>
<li>登入後進入控制台利用個人的 IPv6 網址設定網路連線後, 在虛擬主機中下載安裝<span> </span><a href="https://nginx.org/en/download.html">nginx</a><span> </span>後測試是否可以正常從實體主機中連線.</li>
<li><a href="http://229.cycu.org/certbot.7z">http://229.cycu.org/certbot.7z</a> 設定 https</li>
<li>git clone <a href="https://github.com/mdecycu/reeborg.git">https://github.com/mdecycu/reeborg.git</a> 放入 nginx 系統中的 html 目錄</li>
<li>利用 <a href="http://localhost/reeborg/?lang=en&amp;mode=python&amp;menu=/reeborg/worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=/reeborg/worlds/tutorial_en/harvest1.json&amp;editor=https://mdewcm2025.github.io/hw-scrum-1/python/harvest1.py">http://localhost/reeborg/?lang=en&amp;mode=python&amp;menu=/reeborg/worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=/reeborg/worlds/tutorial_en/harvest1.json&amp;editor=https://mdewcm2025.github.io/hw-scrum-1/python/harvest1.py</a> 進行測試.</li>
<li>就機械設計的專業而言, 之後可以用來開發類似: <a href="https://github.com/youandvern/efficalc">https://github.com/youandvern/efficalc</a> </li>
</ol>
<p>直接採用 cadlab 電腦:</p>
<p>下載 nginx: <a href="https://nginx.org/en/download.html">https://nginx.org/en/download.html</a> (下載 stable 版本)</p>
<p><span>操作步驟 (Ubuntu)</span>:</p>
<ol>
<li>下載<span> </span><a href="http://229.cycu.org/ubuntu.vdi">http://229.cycu.org/ubuntu.vdi</a>, 在電腦中啟動 Virtualbox 後新增虛擬主機.</li>
<li>採用 Ubuntu.vdi 建立虛擬主機後, 將網路設為橋接後啟動.</li>
<li>登入後進入控制台利用個人的 IPv6 網址設定網路連線後, 在虛擬主機中下載安裝<span> </span><a href="https://nginx.org/en/download.html">nginx</a><span> </span>後測試是否可以正常從實體主機中連線. (例如:<span> </span><a href="http://stud.cycu.org/">http://stud.cycu.org/</a>)</li>
<li>Ubuntu 網路設定位於 /etc/netplan/<a href="https://mdewcm2025.github.io/hw-scrum-1/downloads/net.yaml">net.yaml</a>, 利用 vi 編輯器設定完成後, 以 sudo netplan apply 讓設定生效.</li>
<li>安裝 nginx, sudo apt install nginx, 之後設定檔案位於 /etc/nginx/sites-available/<a href="https://mdewcm2025.github.io/hw-scrum-1/downloads/default">default</a></li>
<li>修改 nginx 設定後, 以 sudo service nginx restart 重新啟動. (測試是否可以連線至: http://wxx.mde.nfu.edu.tw 或 https://wxx.mde.nfu.edu.tw)</li>
</ol>
<p><span>建立 github_帳號.github.io 倉儲與網站</span>:</p>
<ol>
<li>在 Github 中建立以帳號為名的 github.io, 將自動啟動 Github Pages 設定 (自動設定為與倉儲同名的網站)</li>
<li>登入 Github 後, 連線至<span> </span><a href="https://github.com/mdecycu/cmsimde_site,">https://github.com/mdecycu/cmsimde_site,</a><span> </span>Use this template 建立名稱為 github_帳號.github.io 倉儲.</li>
<li>在 Codespaces 或近端維護 github_帳號.github.io (例如: scrum-1.github.io).</li>
<li>在個人網站中建立 About, Courses, Certificates, Licenses, Contests, Misc 等 H1 頁面, 其中 About 可以放入個人簡介, Courses 則放入個人所修過課程的簡介與心得 (或成績), Certificates 放入各式英檢的內容, Licenses 則放入專業證照與實習項目介紹. Contests 則放入個人或團隊參賽紀錄. Misc 則放入尚未整理的瑣碎資料.</li>
<li>個人網頁中的 Blog 可以詳細記錄個人參與的事件過程, Reveal.js 則放入個人的線上簡報內容</li>
</ol>
<hr/>
<p>Vmware<span> </span><a href="https://blogs.vmware.com/cloud-foundation/2024/11/11/vmware-fusion-and-workstation-are-now-free-for-all-users/">最近宣布</a>適用於 Windows 及 Linux 的 Vmware Workstation Pro (<a href="https://docs.vmware.com/en/VMware-Workstation-Pro/17.6/rn/vmware-workstation-176-pro-release-notes/index.html">17.6</a>), 與適用於 MacOS 的 Vmware Fusion Pro 全面免費.</p>
<p><a href="https://support.broadcom.com/group/ecx/productdownloads?subfamily=VMware+Workstation+Pro">下載 Vmware Workstation Pro</a><span> </span>(For Windows and Linux) - 註冊帳號後下載 VMware-workstation-full-17.6.2.exe</p>
<p><a href="https://support.broadcom.com/group/ecx/productdownloads?subfamily=VMware+Fusion">下載 Vmware Fusion Pro</a><span> </span>(For Mac) - 註冊帳號後下載</p>
<h2>HW2</h2>
<p>作業二 (20%): 在各種不同環境下的操作系統中配置<span> </span><a href="https://mde.tw/reeborg/world.html">Reeborg's world</a> (<a href="https://github.com/mdecycu/reeborg">原始碼</a>)</p>
<p>在 HW1 所建立的各種 nginx 伺服器與個人網站中配置 Reeborg 機器人程式, 並將所練習的 Python 程式放入網站的 downloads 目錄中, 逐步強化練習個人的 Python 程式語法. 並隨著各式課程的學習, 嘗試利用網際程式方法解題.</p>
<hr/>
<p>在 Windows 利用 Virtualbox 建立 wXX.mde.nfu.edu.tw 虛擬主機伺服器:</p>
<ol>
<li>下載<span> </span><a href="http://229.cycu.org/win10.vdi">win10.vdi</a></li>
<li>在<span> </span><a href="https://www.virtualbox.org/wiki/Download_Old_Builds_7_1">Virtualbox 7.1</a><span> </span>之前的版本配置既有的虛擬主機檔案, 記憶體配置 8GB 以上, 將虛擬主機名稱設為 wXX, network 設為橋接至電腦的實體網卡</li>
<li>首次啟動 wXX 虛擬主機, 修改管理者密碼, 利用 IPv6 說明設定所分配到的 IPv6 網路位址</li>
<li>確定網路連線正常, 並可透過 proxy 設定讓瀏覽器連線至任何網站, 允許遠端桌面連線後關閉虛擬主機</li>
<li>透過<span> </span><a href="https://nssm.cc/download">nssm</a><span> </span>與 C:\Program Files\Oracle\VirtualBox\VBoxHeadless.exe 讓所建立的虛擬主機成為實體主機的服務</li>
<li>以管理者身分啟動 cmd 後, 執行實體目錄位置下的 nssm.exe, 例如: E:\portable_wcm2025\data\nssm install wXX</li>
<li>利用 C:\Program Files\Oracle\VirtualBox\VBoxHeadless.exe -startvm wXX 指令, 以 wXX 服務啟動</li>
<li>以滑鼠右鍵點擊"開始", 選擇"電腦管理", 將 wXX 服務設為"延遲自動啟動"後, 啟動 wXX 虛擬主機 </li>
<li>遠端登入 wXX 虛擬主機後,<span> </span><a href="https://nginx.org/download/nginx-1.28.0.zip">下載 nginx</a><span> </span>並完成設定 , 讓 wXX.mde.nfu.edu.tw 可以透過 http 與 https 啟動</li>
</ol>
<p>在 wXX.mde.nfu.edu.tw 主機設定<span> </span><a href="http://229.cycu.org/certbot.7z">certbot</a>, 以<span> </span><a href="https://wxx.mde.nfu.edu.tw/">https://wXX.mde.nfu.edu.tw</a> 啟動:</p>
<ol>
<li>可以直接讓<span> </span><a href="https://wxx.mde.nfu.edu.tw/">https://wXX.mde.nfu.edu.tw</a> 伺服 Reeborg: <a href="https://mde.tw/reeborg/">https://mde.tw/reeborg/</a> </li>
<li>或者結合 waitress 以 <a href="https://wxx.mde.nfu.edu.tw/">https://wXX.mde.nfu.edu.tw</a> 編輯作業倉儲的動態網站內容, 並讓靜態網站透過<span> </span><a href="http://wxx.mde.nfu.edu.tw/">http://wXX.mde.nfu.edu.tw</a> 連線</li>
</ol>
<p>基本設定檔案: <span> </span><a href="https://mdewcm2025.github.io/hw-scrum-1/downloads/nginx.conf.txt">nginx.conf</a>, <a href="https://mdewcm2025.github.io/hw-scrum-1/downloads/start_waitress.py.txt">start_waitress.py</a><span> </span></p>
<p><span>若要將 nginx port 80 轉為倉儲的靜態內容, 則可以採用以下設定:</span></p>
<p><span>nginx.conf</span></p>
<div>
<div class="syntaxhighlighter js" id="highlighter_119521">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="gutter">
<div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
<div class="line number4 index3 alt1">4</div>
<div class="line number5 index4 alt2">5</div>
<div class="line number6 index5 alt1">6</div>
<div class="line number7 index6 alt2">7</div>
<div class="line number8 index7 alt1">8</div>
<div class="line number9 index8 alt2">9</div>
<div class="line number10 index9 alt1">10</div>
<div class="line number11 index10 alt2">11</div>
<div class="line number12 index11 alt1">12</div>
<div class="line number13 index12 alt2">13</div>
<div class="line number14 index13 alt1">14</div>
<div class="line number15 index14 alt2">15</div>
<div class="line number16 index15 alt1">16</div>
<div class="line number17 index16 alt2">17</div>
<div class="line number18 index17 alt1">18</div>
<div class="line number19 index18 alt2">19</div>
<div class="line number20 index19 alt1">20</div>
<div class="line number21 index20 alt2">21</div>
<div class="line number22 index21 alt1">22</div>
<div class="line number23 index22 alt2">23</div>
<div class="line number24 index23 alt1">24</div>
<div class="line number25 index24 alt2">25</div>
<div class="line number26 index25 alt1">26</div>
<div class="line number27 index26 alt2">27</div>
<div class="line number28 index27 alt1">28</div>
<div class="line number29 index28 alt2">29</div>
<div class="line number30 index29 alt1">30</div>
<div class="line number31 index30 alt2">31</div>
<div class="line number32 index31 alt1">32</div>
<div class="line number33 index32 alt2">33</div>
<div class="line number34 index33 alt1">34</div>
<div class="line number35 index34 alt2">35</div>
<div class="line number36 index35 alt1">36</div>
<div class="line number37 index36 alt2">37</div>
<div class="line number38 index37 alt1">38</div>
<div class="line number39 index38 alt2">39</div>
<div class="line number40 index39 alt1">40</div>
<div class="line number41 index40 alt2">41</div>
<div class="line number42 index41 alt1">42</div>
<div class="line number43 index42 alt2">43</div>
<div class="line number44 index43 alt1">44</div>
<div class="line number45 index44 alt2">45</div>
<div class="line number46 index45 alt1">46</div>
<div class="line number47 index46 alt2">47</div>
<div class="line number48 index47 alt1">48</div>
</td>
<td class="code">
<div class="container">
<div class="line number1 index0 alt2"><code class="js plain">worker_processes  1;</code></div>
<div class="line number2 index1 alt1"> </div>
<div class="line number3 index2 alt2"><code class="js plain">events {</code></div>
<div class="line number4 index3 alt1"><code class="js spaces">    </code><code class="js plain">worker_connections  1024;</code></div>
<div class="line number5 index4 alt2"><code class="js plain">}</code></div>
<div class="line number6 index5 alt1"> </div>
<div class="line number7 index6 alt2"><code class="js plain">http {</code></div>
<div class="line number8 index7 alt1"><code class="js spaces">    </code><code class="js plain">include       mime.types;</code></div>
<div class="line number9 index8 alt2"><code class="js spaces">    </code><code class="js plain">default_type  application/octet-stream;</code></div>
<div class="line number10 index9 alt1"><code class="js spaces">    </code><code class="js plain">sendfile        on;</code></div>
<div class="line number11 index10 alt2"><code class="js spaces">    </code><code class="js plain">keepalive_timeout  65;</code></div>
<div class="line number12 index11 alt1"> </div>
<div class="line number13 index12 alt2"><code class="js spaces">    </code><code class="js plain">server {</code></div>
<div class="line number14 index13 alt1"><code class="js spaces">        </code><code class="js plain">listen       [::]:80 ipv6only=on;</code></div>
<div class="line number15 index14 alt2"><code class="js spaces">        </code><code class="js plain">server_name  wXX.mde.nfu.edu.tw;</code></div>
<div class="line number16 index15 alt1"> </div>
<div class="line number17 index16 alt2"><code class="js spaces">        </code><code class="js preprocessor">#root   html;</code></div>
<div class="line number18 index17 alt1"><code class="js spaces">        </code><code class="js preprocessor"># 將 port 80 http 連結到倉儲的靜態網站</code></div>
<div class="line number19 index18 alt2"><code class="js spaces">        </code><code class="js preprocessor"># 將 root 指向靜態倉儲目錄, 特別注意不要使用反斜線</code></div>
<div class="line number20 index19 alt1"><code class="js spaces">        </code><code class="js plain">root C:/Users/wcm/Downloads/portable_wcm2025_w10/data/tmp/wcm2025_hw;</code></div>
<div class="line number21 index20 alt2"><code class="js spaces">        </code><code class="js plain">index  index.html;</code></div>
<div class="line number22 index21 alt1"> </div>
<div class="line number23 index22 alt2"><code class="js spaces">        </code><code class="js plain">location / {</code></div>
<div class="line number24 index23 alt1"><code class="js spaces">            </code><code class="js plain">try_files $uri $uri/ =404;</code></div>
<div class="line number25 index24 alt2"><code class="js spaces">        </code><code class="js plain">}</code></div>
<div class="line number26 index25 alt1"><code class="js spaces">    </code><code class="js plain">}</code></div>
<div class="line number27 index26 alt2"> </div>
<div class="line number28 index27 alt1"><code class="js spaces">    </code><code class="js plain">server {</code></div>
<div class="line number29 index28 alt2"><code class="js spaces">        </code><code class="js plain">listen       [::]:443 ssl ipv6only=on;</code></div>
<div class="line number30 index29 alt1"><code class="js spaces">        </code><code class="js plain">http2        on;</code></div>
<div class="line number31 index30 alt2"><code class="js spaces">        </code><code class="js plain">server_name  wXX.mde.nfu.edu.tw;</code></div>
<div class="line number32 index31 alt1"> </div>
<div class="line number33 index32 alt2"><code class="js spaces">        </code><code class="js plain">ssl_certificate      fullchain.pem;</code></div>
<div class="line number34 index33 alt1"><code class="js spaces">        </code><code class="js plain">ssl_certificate_key  privkey.pem;</code></div>
<div class="line number35 index34 alt2"><code class="js spaces">        </code><code class="js plain">ssl_protocols        TLSv1.2 TLSv1.3;</code></div>
<div class="line number36 index35 alt1"><code class="js spaces">        </code><code class="js plain">ssl_ciphers          HIGH:!aNULL:!MD5;</code></div>
<div class="line number37 index36 alt2"> </div>
<div class="line number38 index37 alt1"><code class="js spaces">        </code><code class="js plain">location / {</code></div>
<div class="line number39 index38 alt2"><code class="js spaces">            </code><code class="js preprocessor"># https port 443 的連結資料是由近端 IPv6 port 8080 所提供</code></div>
<div class="line number40 index39 alt1"><code class="js spaces">            </code><code class="js preprocessor"># port 8080 的資料是有 python start_waitress.py 提供</code></div>
<div class="line number41 index40 alt2"><code class="js spaces">            </code><code class="js plain">proxy_pass         http:</code><code class="js comments">//[::1]:8080;</code></div>
<div class="line number42 index41 alt1"><code class="js spaces">            </code><code class="js plain">proxy_set_header   Host $host;</code></div>
<div class="line number43 index42 alt2"><code class="js spaces">            </code><code class="js plain">proxy_set_header   X-Real-IP $remote_addr;</code></div>
<div class="line number44 index43 alt1"><code class="js spaces">            </code><code class="js plain">proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;</code></div>
<div class="line number45 index44 alt2"><code class="js spaces">            </code><code class="js plain">proxy_set_header   X-Forwarded-Proto $scheme;</code></div>
<div class="line number46 index45 alt1"><code class="js spaces">        </code><code class="js plain">}</code></div>
<div class="line number47 index46 alt2"><code class="js spaces">    </code><code class="js plain">}</code></div>
<div class="line number48 index47 alt1"><code class="js plain">}</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>start_waitress.py</p>
<div>
<div class="syntaxhighlighter py" id="highlighter_974377">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="gutter">
<div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
</td>
<td class="code">
<div class="container">
<div class="line number1 index0 alt2"><code class="py keyword">from</code> <code class="py plain">waitress </code><code class="py keyword">import</code> <code class="py plain">serve</code></div>
<div class="line number2 index1 alt1"><code class="py keyword">from</code> <code class="py plain">cmsimde </code><code class="py keyword">import</code> <code class="py plain">flaskapp</code></div>
<div class="line number3 index2 alt2"><code class="py plain">serve(flaskapp.app, listen</code><code class="py keyword">=</code><code class="py string">'localhost:8080'</code><code class="py plain">, threads</code><code class="py keyword">=</code><code class="py value">8</code><code class="py plain">)</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>之後, 若已經將 http 指向倉儲的靜態網站, 就可以利用 git clone<span> </span><a href="https://github.com/mdecycu/reeborg.git">https://github.com/mdecycu/reeborg.git</a> 將機器人程式放入 reeborg 目錄中, 並且以下列連結開啟:</p>
<p><a href="http://w99.mde.nfu.edu.tw/reeborg/?lang=en&amp;mode=python&amp;menu=worlds%2Fmenus%2Fselect_collection_en.json&amp;name=Alone&amp;url=worlds%2Ftutorial_en%2Fharvest1.json&amp;editor=python%2Fharvest1.py">http://w99.mde.nfu.edu.tw/reeborg/?lang=en&amp;mode=python&amp;menu=worlds%2Fmenus%2Fselect_collection_en.json&amp;name=Alone&amp;url=worlds%2Ftutorial_en%2Fharvest1.json&amp;editor=python%2Fharvest1.py</a> </p>
<h1>Tasks</h1>
<h2>tesk1</h2>
<h4>自行製作可攜程式系統</h4>
<p>此作業的目的在展示如何利用既有的 Python 可攜系統建立各版本的 Python 可攜環境.</p>
<p>以下為操作步驟:</p>
<ol>
<li>下載<span> </span><a href="http://229.cycu.org/portable_python311.7z">portable_python311.7z</a>, 展開後是一套尚未安裝 pip 的 Python 3.11 可攜程式環境.</li>
<li>雙點擊 portable_python311 目錄中的 start_ipv6.bat 啟動可攜系統, 在 SciTE 中開啟 Y:\<a href="https://mdewcm2025.github.io/hw-scrum-1/downloads/gen_python313.py">gen_python313.py</a>, 以下拉式功能表 Tools - Go 執行, 便可在 Y:\ 建立 Python313 目錄.</li>
<li>接著修改 start_ipv6.bat, 利用 Search - Replace, Find 欄位填上 Python311, Replace 欄位填上 Python313 後, 按下 Replace All, 便可將啟動檔中所有 Python311 設定改為 Python313, 另存修改後的檔案為 start_python313.bat.</li>
<li>接下來以 stop.bat 關閉 start_ipv6.bat 開啟的可攜系統, 改以心建立的 start_python313.bat 開啟可攜環境, 之後在命令列輸入 python, 確認目前的 Python 版本為 3.13.2 後, 利用 Ctrl + z 退出 Python 後, 利用 pip list 確認目前的 Python 3.13.2 系統尚未配置 pip 模組管理工具.</li>
<li>在命令列中, 以 python get-pip.py 安裝 pip 工具, 完成後, 以 pip list 確認 pip.exe 已經配置完成.</li>
<li>最後在命令列中, 以 pip install flask flask_cors bs4 lxml pelican markdown 安裝 cmsimde 網際內容管理系統啟動所需的 Python 模組後, 此可攜系統中的 Python 3.13.2 套件已經可以用來維護個人作業倉儲與分組倉儲.</li>
<li>之後利用新版的<span> </span><a href="https://www.scintilla.org/SciTEDownload.html">SciTE</a>,<span> </span><a href="https://git-scm.com/downloads/win">Portablegit</a>,<span> </span><a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">PUTTY</a>,<span> </span><a href="https://github.com/ShareX/ShareX/releases">ShareX</a>,<span> </span><a href="https://www.debugmode.com/wink.html">Wink</a>,<span> </span><a href="https://solvespace.com/download.pl">Solvespace</a>,<span> </span><a href="https://learn.microsoft.com/zh-tw/sysinternals/downloads/zoomit">Zoomit</a>,<span> </span><a href="https://learn.microsoft.com/zh-tw/sysinternals/downloads/process-explorer#download">ProcessExplorer</a><span> </span>以及原有的 tmp 及 home_ipv6, 以新的 start_python313 啟動.</li>
</ol>
<h2>tesk2</h2>
<h4>使用 SSH 協定執行作業倉儲的推送</h4>
<p><a href="https://zh.wikipedia.org/zh-tw/Secure_Shell">SSH</a><span> </span>是一種加密的網路傳輸協定, PuTTY 則是可用於 Windows 環境的 SSH 協定工具, 其中支援遠端登入 (putty.exe) 與檔案傳輸工具 (psftp.exe).</p>
<p>使用 PuTTY 所建立的公私鑰進行 Github push 認證的步驟:</p>
<p>第一步:</p>
<p>若希望在 Windows 環境透過 git 指令, 使用 PuTTY 設定的 session (一個代表連線伺服器主機、私鑰位置與是否使用代理主機等資訊的字串), 執行 push, 必須要在啟動可攜環境時, 設定 GIT_SSH 環境變數, 將此變數指向 PuTTY 套件中的 plink.exe 位置 (也就是 set GIT_SSH=%Disk%:\putty\plink.exe).</p>
<p>第二步:</p>
<p>指定利用 PuTTY 的 SSH session 執行 git push 後, 必須在 Windows 操作系統中選擇一個字串, 作為 SSH 連線 session 名稱, 由於此設定必須指向 SSH 協定加密用的私鑰所在目錄位置, 因此設定 session 之前, 必須利用 puttygen.txt 建立一對公私鑰, 其中的公鑰為 OpenSSH 格式, 必須送到使用者 Github 帳號設定區 (Settings) 的 SSH and GPG keys 中.</p>
<p>第三步:</p>
<p>利用 puttygen.exe 建立公私鑰的方法, 是在執行 puttygen.exe 之後, 以滑鼠按下 Generate 之後, 讓滑鼠在 puttgen.exe 視窗中 key 下方的空白區域隨意移動, puttygen.exe 會根據滑鼠移動的位置隨機建立 OpenSSH 格式的公鑰, 以及配對的 PuTTY 格式的 Private Key (副檔名為 .ppk)</p>
<p>第四步:</p>
<p>接下來, 將 OpenSSH 格式的 Public Key 內容複製到個人 Github 帳號設定區的 SSH and GPG keys 中, 並以 puttygen.exe 執行視窗右下方的 Save private key 按鈕, 將私鑰 (假設為 myprivatekey.ppk) 存至 Y:\.</p>
<p>第五步:</p>
<p>接著啟動 PuTTY 中的 putty.exe, 在 Host Name (or IP Address) 欄位填入 github.com, 並確認 Connection Type 選用 SSH, 表示要透過 SSH 加密協定連線到 github.com.</p>
<p>第六步:</p>
<p>接著在 putty.exe 視窗下方的 Saved Sessions 填入一組字串, 此字串就是之後要遠端登入 github.com 設定 push 連線 URL 的 session 名稱, 在此假設選擇 "mysession" 作為 session 名稱, 使用者可以自行選擇具有代表性的字串, 例如: 學號或簡短的英文姓名縮寫.</p>
<p>第七步:</p>
<p>在 putty.exe 視窗中填入 github.com 與 "mysession" 名稱之後, 點擊 Save 之後, 此 session 設定就會被 Windows 操作系統存入該台電腦的 Registry 登錄檔案中的 HKEY_CURRENT_USER - SOFTWARE - SimonTatham 所在組態區. 此時可以在命令列中輸入 regedit 後進入登錄檔查看是否 mysession 已經存在.</p>
<p>第八步:</p>
<p>上列 "mysession" 設定完成且按下 Save 之後, 若再按下 Open, 採用 IPv4 網路連線的電腦應該已經可以透過 putty.exe 遠端連線至 github.com, 視窗中會出現 github.com 作為視窗標題, 且內容為 login as: 但一般使用者並沒有帳號可以直接透過 putty.exe 遠端登入到 github.com, 而只能在 session 設定完成後, 利用此 session 執行 git push.</p>
<p>第九步:</p>
<p>由於前面的 "mysession" 雖然已經存入 Windows 操作系統的登錄檔, 但並沒有設定 private key 的位置, 因此接下來要再開啟 putty.exe, load 進此一 session, 然後在此 session 設定左方的 Category: 下方的 Connection - SSH - Auth - Credentials 設定中的 Private key file for authentication: 區, 利用 Browse 選擇位於 Y:\ 的 myprivatekey.ppk 檔案. 選擇檔案完成後, 必須再回到 Catetory: 下方的 Session 區, 以右方的 Save 將附加私鑰位置設定的 session 存檔. 此時 Windows 登錄檔中的 "mysession" 除了代表要使用 SSH 連線到 github.com 之外, 還附帶指定了 myprivatekey.ppk 在 Y:\ 的位置.</p>
<p>第十步:</p>
<p>若上述設定是在電腦輔助設計室中的電腦進行, 必須利用命令列 regedit 指令, 進入 HKEY_CURRENT_USER - SOFTWARE - SimonTatham 位置, 利用滑鼠右鍵將此登錄設定檔案"匯出" 存入可攜程式 start_ipv6.bat 所在目錄, 此處假設命名為 mysession.reg, 使用者可以自行對 .reg 命名.</p>
<p>第十一步:</p>
<p>由於上列的 myprivatekey.ppk 存於可攜程式中的 Y:\, 因此當使用者利用 start_ipv6.bat 啟動可攜程式後, 就可以利用滑鼠雙點擊位於同目錄的 mysession.reg, 上述的 "mysession" 設定就會存入 Windows 操作系統的登錄檔中.</p>
<p>使用 PuTTY session 設定倉儲 .git/config 中的 URL</p>
<p>假設上列 "mysession" 對應中的 OpenSSH 格式公鑰是送到 Github 帳號為 scrum-1 學員的 SSH and GPG key 區域, 則 scrum-1 學員在啟動可攜系統後, 已經雙點擊 mysession.reg, 將前述 putty.exe 設定的 session 組態登錄設定回存至 Windows 操作系統中, 則 scrum-1 學員就可以將其近端作業倉儲中的 mysession 用於倉儲 .git/config 檔案的下方設定:</p>
<div>
<div class="syntaxhighlighter js" id="highlighter_502412">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="gutter">
<div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
</td>
<td class="code">
<div class="container">
<div class="line number1 index0 alt2"><code class="js plain">[remote </code><code class="js string">"origin"</code><code class="js plain">]</code></div>
<div class="line number2 index1 alt1"><code class="js spaces">    </code><code class="js plain">url = git@mysession:mdewcm2025/hw-scrum-1.git</code></div>
<div class="line number3 index2 alt2"><code class="js spaces">    </code><code class="js plain">fetch = +refs/heads/:refs/remotes/origin/</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>其中的 [remote "origin"] 表示當使用 git 指令中針對此倉儲 "origin" 是一個與遠端倉儲對應的字串代號, 代表其下兩項設定. url 代表此 "origin" 的倉儲連線網址, 而連線至此倉儲的協定是採遠端登入 (使用 Github 支援的 SSH 遠端登入協定), 且此遠端登入的帳號為 "git", 這是所有要使用 SSH 執行 git push 的用戶共同使用的登入帳號.</p>
<p>url 設定中 "@" 之後的 "mysession" 就是宣告要使用此電腦登錄檔中所設定的 session 名稱 (代表要連線到 github.com, 且帶的 myprivatekey.ppk, 準備在登入流程中與 github.com 中 mdewcm2025 帳號下的 hw-scrum-1 倉儲擁有者 (或帶有 repo 管理權限的帳號) 所登錄的 public keys 進行認證比對, 一旦通過認證, git push 指令就可以成功將改版資料推送到指定的倉儲區域.</p>
<h2>tesk2.5</h2>
<p><a href="https://mdewcm2025.github.io/hw-scrum-1/downloads/brython.txt">brython.txt</a></p>
<p>Fossil SCM 的應用</p>
<p><a href="https://fossil-scm.org/">https://fossil-scm.org/</a> </p>
<p>Github 與 Fossil SCM 結合應用範例:</p>
<div class="winkVideoContainerClass"><video autoplay="autoplay" class="winkVideoClass" controls="controls" data-dirname="/cmsimde/static" data-mce-fragment="1" data-varname="wcmw3_fossil1" height="630" muted="true" width="1008"></video></div>
<div class="winkVideoContainerClass"></div>
<div class="winkVideoContainerClass">.fossil 檔案為完整的 Fossil SCM 倉儲檔案, 而 fossil open 後的目錄內容則為特定版次 (內建為 trunk 版, 也就是倉儲中的最新版本) 內容.</div>
<div class="winkVideoContainerClass"></div>
<div class="winkVideoContainerClass">fossil ui .fossil 後, 可以透過 Web ui 介面修改 .fossil 倉儲的內容, 至於從 fossil open .fossil 取出的 trunk 版本內容, 在倉儲內容改版後, 可以利用 fossil add 與 fossil commit-m 將改版資料回存至近端 .fossil, 若 .fossil 是從遠端 fossil clone, 則只有在 fossil push 後, 近端的改版內容才會被推向遠端倉儲 .fossil 檔案.</div>
<div class="winkVideoContainerClass"></div>
<div class="winkVideoContainerClass">若與工作目錄對應的 .fossil 倉儲檔案內容在 fossil open 之後進行改版, 則先前已經 open 的工作目錄, 可以利用 fossil update 與近端的 .fossil 倉儲內容保持同步.</div>
<h3 style="text-align: left;">IPv6</h3>
<p>已知 w4 之前的學員作業倉儲版本, 無法在 IPv6 位址設定時正確運作, 各學員必須下載<span> </span><a href="http://229.cycu.org/cmsimde_w4.7z">cmsimde_w4.7z</a>, 解開壓縮檔案後, 替換倉儲中的 cmsimde 目錄.</p>
<p>根據 <a href="https://mdewcm2025.github.io/hw-scrum-1/downloads/1a_stud.txt">1a_stud.txt</a> 中的學員序號, 每位學員分配一個固定的 IPv6 網址:</p>
<p>學員序號為 1的固定 IPv6 分配: 2001:288:6004:17:fff1:cc25:0000:a001</p>
<p>註: 利用 Brython<span> </span><a href="https://mde.tw/wcm2025/content/Brython.html?src=https://gist.githubusercontent.com/mdecycu/9f3df9d865a7ceca8e799ee9b1a31602/raw/5299aa53dc856df47c98993e016c9c0db2c74edf/2025_spring_set_mde_dns.py">產生</a><span> </span>DNS 伺服器所需的設定.</p>
<p>完成 dns 設定之後, 序號為 1 的學員其伺服器主機符號名稱為 w1.mde.nfu.edu.tw, 序號 50 則對應 w50.</p>
<p>利用 hinet dns 伺服器查詢 w1.mde.nfu.edu.tw 以及 w50.nfu.edu.tw 的畫面:</p>
<p><img alt="" height="339" src="https://mdewcm2025.github.io/hw-scrum-1/images/nslookup_for_w1_w50_mde_nfu_edu_tw.png" width="300"/></p>
<p>各學員在虛擬主機設定所分配的 IPv6 網址之後, 可以使用對應的符號名稱設定 nginx, cmsimde 作業網站以及 fossil 伺服器.</p>
<hr/>
<p>IPv6 網路設定畫面如下:</p>
<p><img alt="" height="329" src="https://mdewcm2025.github.io/hw-scrum-1/images/wcm_index1_ipv6_setup.png" width="400"/></p>
<p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" data-mce-fragment="1" frameborder="0" height="315" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/6YMViZXpRKQ?si=v4qo4UGzGmqWeaZx" title="YouTube video player" width="560"></iframe></p>
<p><a href="https://mdewcm2025.github.io/hw-scrum-1/downloads/account_network_setup.7z">account_network_setup.7z</a></p>
<p>固定 IPv6 與 Fossil SCM 結合使用:</p>
<p>利用 fossil init 建立一個空白的 wcm.fossil 資料庫, fossil 會使用目前登入的使用者帳號, 然後以亂數建立該帳號的對應密碼, 且讓此帳號作為資料庫的管理者.</p>
<p>由於 wcm.fossil 為<span> </span><a href="https://www.sqlite.org/">SQLite</a><span> </span>資料庫格式, 因此可以使用 sqlite3.exe 進入後, 利用 SQL 語法更改任何帳號的對應密碼.</p>
<p>C:\tmp&gt;fossil init wcm.fossil</p>
<div>
<div class="syntaxhighlighter js" id="highlighter_779221">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="gutter">
<div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
<div class="line number4 index3 alt1">4</div>
<div class="line number5 index4 alt2">5</div>
<div class="line number6 index5 alt1">6</div>
<div class="line number7 index6 alt2">7</div>
<div class="line number8 index7 alt1">8</div>
<div class="line number9 index8 alt2">9</div>
<div class="line number10 index9 alt1">10</div>
</td>
<td class="code">
<div class="container">
<div class="line number1 index0 alt2"><code class="js plain">C:\tmp&gt;fossil init wcm.fossil</code></div>
<div class="line number2 index1 alt1"><code class="js plain">project-id: 7a2ba6d35aa1be96a6fed38503023877a95eb2ab</code></div>
<div class="line number3 index2 alt2"><code class="js plain">server-id:  84002c6209d73504f02af0cd280ecba424e1c298</code></div>
<div class="line number4 index3 alt1"><code class="js plain">admin-user: yen (initial password is </code><code class="js string">"3E9yhxzQtr"</code><code class="js plain">)</code></div>
<div class="line number5 index4 alt2"> </div>
<div class="line number6 index5 alt1"><code class="js plain">C:\tmp&gt;sqlite3 wcm.fossil</code></div>
<div class="line number7 index6 alt2"><code class="js plain">SQLite version 3.49.0 2025-02-06 11:55:18</code></div>
<div class="line number8 index7 alt1"><code class="js plain">Enter </code><code class="js string">".help"</code> <code class="js keyword">for</code> <code class="js plain">usage hints.</code></div>
<div class="line number9 index8 alt2"><code class="js plain">sqlite&gt; update user set pw=</code><code class="js string">'yen'</code> <code class="js plain">where login=</code><code class="js string">'yen'</code><code class="js plain">;</code></div>
<div class="line number10 index9 alt1"><code class="js plain">sqlite&gt;</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>C:\tmp&gt;fossil ui wcm.fossil</p>
<p>執行 fossil ui 後, 系統會自動跳出以下畫面:</p>
<p><img alt="" height="219" src="https://mdewcm2025.github.io/hw-scrum-1/images/w5_fossil_ui_1.png" width="800"/></p>
<p>之後希望將作業倉儲內容納入上列 wcm.fossil, 其操作步驟:</p>
<p>C:\tmp&gt;git clone<span> </span><a href="https://github.com/mdewcm2025/hw-scrum-1.git">https://github.com/mdewcm2025/hw-scrum-1.git</a> wcmhw</p>
<p>可以將作業倉儲內容放入 wcmhw 目錄中.</p>
<p>接著要求將空的 wcm.fossil 倉儲的最新版 (名稱為 trunk) 強制解開到 wcmhw 目錄</p>
<p>C:\tmp&gt;cd wcmhw</p>
<p>C:\tmp\wcmhw&gt;fossil open ./../wcm.fossil --force</p>
<p>接下來只要利用 fossil add 與 commit 指令就可以將作業倉儲內容"新增提交"進入 wcm.fossil 倉儲的版本控制中.</p>
<p><span>C:\tmp\wcmhw&gt;fossil add .</span></p>
<p><span>C:\tmp\wcmhw&gt;fossil commit -m "add 作業倉儲內容"</span></p>
<p><span>然後回答 "a" 表示要將上列納入的所有資料進行提交, 而該提交版本內容將會註記在 wcm.fossil 倉儲中.</span></p>
<p><span>C:\tmp\wcmhw&gt;cd ..</span></p>
<p><span>C:\tmp&gt;fossil ui wcm.fossil </span></p>
<p><span>就可以利用全球資訊網介面 (<a href="http://localhost:8081/">http://localhost:8081</a>) 檢查 wcm.fossil 的最新版內容</span></p>
<p>其中若進入 Admin - Settings, 在 default-csp 欄位填入"<a href='https://fonts.googleapis.com",/'>https://fonts.googleapis.com",</a> 在 ignore-glob 欄位填入 "__pycache__".</p>
<p>default-csp 代表可以跨網站擷取<span> </span><a href="https://fonts.googleapis.com/">https://fonts.googleapis.com</a> 網站中的字型資料檔案, 而 ignore-glob 表示之後若有執行 Python 程式所產生的暫存檔案, 可以忽略, 不會因為新增提交而進入倉儲資料中.</p>
<p>至於作業倉儲的ˋ靜態網站, 可以從 <a href="http://localhost:8081/">http://localhost:8081</a>/doc/trunk/index.html 進行檢視, 其中的 trunk 表示是該倉儲的最新版本.</p>
<p></p>
<p><a href="https://mdewcm2025.github.io/hw-scrum-1/downloads/brython.txt"></a></p>
<h2>tesk3</h2>
<h4>使用 Nginx 建立全球資訊網伺服器</h4>
<h4>HTML 中的 CSS 與 Javascript</h4>
<h4>Windows 環境中的 WWW server</h4>
<h4>Ubuntu 環境中的 WWW server</h4>
<hr/>
<p>Windows:</p>
<p><a href="https://software.nfu.edu.tw/Windows/tw/Win_10_22H2.4_64BIT_Ch.ISO">https://software.nfu.edu.tw/Windows/tw/Win_10_22H2.4_64BIT_Ch.ISO</a></p>
<p><a href="http://229.cycu.org/win10.vdi">http://229.cycu.org/win10.vdi</a> </p>
<p>利用 nssm 將 nginx.exe 設為系統服務</p>
<p>必須使用管理者的 cmd, 然後執行 nssm install nginx, nssm edit nginx, nssm remove nginx</p>
<p>nginx.conf </p>
<div>
<div class="syntaxhighlighter js" id="highlighter_945711">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="gutter">
<div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
<div class="line number4 index3 alt1">4</div>
<div class="line number5 index4 alt2">5</div>
<div class="line number6 index5 alt1">6</div>
<div class="line number7 index6 alt2">7</div>
<div class="line number8 index7 alt1">8</div>
<div class="line number9 index8 alt2">9</div>
<div class="line number10 index9 alt1">10</div>
<div class="line number11 index10 alt2">11</div>
<div class="line number12 index11 alt1">12</div>
<div class="line number13 index12 alt2">13</div>
<div class="line number14 index13 alt1">14</div>
<div class="line number15 index14 alt2">15</div>
<div class="line number16 index15 alt1">16</div>
<div class="line number17 index16 alt2">17</div>
<div class="line number18 index17 alt1">18</div>
<div class="line number19 index18 alt2">19</div>
<div class="line number20 index19 alt1">20</div>
<div class="line number21 index20 alt2">21</div>
<div class="line number22 index21 alt1">22</div>
<div class="line number23 index22 alt2">23</div>
<div class="line number24 index23 alt1">24</div>
<div class="line number25 index24 alt2">25</div>
<div class="line number26 index25 alt1">26</div>
<div class="line number27 index26 alt2">27</div>
<div class="line number28 index27 alt1">28</div>
<div class="line number29 index28 alt2">29</div>
<div class="line number30 index29 alt1">30</div>
<div class="line number31 index30 alt2">31</div>
<div class="line number32 index31 alt1">32</div>
<div class="line number33 index32 alt2">33</div>
<div class="line number34 index33 alt1">34</div>
<div class="line number35 index34 alt2">35</div>
<div class="line number36 index35 alt1">36</div>
<div class="line number37 index36 alt2">37</div>
<div class="line number38 index37 alt1">38</div>
<div class="line number39 index38 alt2">39</div>
<div class="line number40 index39 alt1">40</div>
<div class="line number41 index40 alt2">41</div>
</td>
<td class="code">
<div class="container">
<div class="line number1 index0 alt2"><code class="js preprocessor">#user  nobody;</code></div>
<div class="line number2 index1 alt1"><code class="js plain">worker_processes  1;</code></div>
<div class="line number3 index2 alt2"> </div>
<div class="line number4 index3 alt1"><code class="js preprocessor">#error_log  logs/error.log;</code></div>
<div class="line number5 index4 alt2"><code class="js preprocessor">#error_log  logs/error.log  notice;</code></div>
<div class="line number6 index5 alt1"><code class="js preprocessor">#error_log  logs/error.log  info;</code></div>
<div class="line number7 index6 alt2"> </div>
<div class="line number8 index7 alt1"><code class="js preprocessor">#pid        logs/nginx.pid;</code></div>
<div class="line number9 index8 alt2"> </div>
<div class="line number10 index9 alt1"> </div>
<div class="line number11 index10 alt2"><code class="js plain">events {</code></div>
<div class="line number12 index11 alt1"><code class="js spaces">    </code><code class="js plain">worker_connections  1024;</code></div>
<div class="line number13 index12 alt2"><code class="js plain">}</code></div>
<div class="line number14 index13 alt1"> </div>
<div class="line number15 index14 alt2"><code class="js plain">http {</code></div>
<div class="line number16 index15 alt1"><code class="js spaces">    </code><code class="js plain">include       mime.types;</code></div>
<div class="line number17 index16 alt2"><code class="js spaces">    </code><code class="js plain">default_type  application/octet-stream;</code></div>
<div class="line number18 index17 alt1"> </div>
<div class="line number19 index18 alt2"><code class="js spaces">    </code><code class="js plain">sendfile        on;</code></div>
<div class="line number20 index19 alt1"><code class="js spaces">    </code><code class="js plain">keepalive_timeout  65;</code></div>
<div class="line number21 index20 alt2"> </div>
<div class="line number22 index21 alt1"><code class="js spaces">    </code><code class="js plain">server {</code></div>
<div class="line number23 index22 alt2"><code class="js spaces">        </code><code class="js preprocessor"># a0xx 中的 xx 為上課時的學員序號</code></div>
<div class="line number24 index23 alt1"><code class="js spaces">        </code><code class="js preprocessor"># https://mdewcm2025.github.io/hw-scrum-1/downloads/1a_stud.txt</code></div>
<div class="line number25 index24 alt2"><code class="js spaces">        </code><code class="js plain">listen [2001:288:6004:17:fff1:cc25::a0xx]:80;</code></div>
<div class="line number26 index25 alt1"><code class="js spaces">       </code><code class="js preprocessor"># server_name  your-domain.com;</code></div>
<div class="line number27 index26 alt2"> </div>
<div class="line number28 index27 alt1"><code class="js spaces">        </code><code class="js plain">location / {</code></div>
<div class="line number29 index28 alt2"><code class="js spaces">            </code><code class="js plain">root   html;</code></div>
<div class="line number30 index29 alt1"><code class="js spaces">            </code><code class="js plain">index  index.html index.htm;</code></div>
<div class="line number31 index30 alt2"><code class="js spaces">        </code><code class="js plain">}</code></div>
<div class="line number32 index31 alt1"> </div>
<div class="line number33 index32 alt2"><code class="js spaces">        </code><code class="js plain">error_page 404 /404.html;</code></div>
<div class="line number34 index33 alt1"><code class="js spaces">        </code><code class="js plain">location = /40x.html {</code></div>
<div class="line number35 index34 alt2"><code class="js spaces">        </code><code class="js plain">}</code></div>
<div class="line number36 index35 alt1"> </div>
<div class="line number37 index36 alt2"><code class="js spaces">        </code><code class="js plain">error_page 500 502 503 504 /50x.html;</code></div>
<div class="line number38 index37 alt1"><code class="js spaces">        </code><code class="js plain">location = /50x.html {</code></div>
<div class="line number39 index38 alt2"><code class="js spaces">        </code><code class="js plain">}</code></div>
<div class="line number40 index39 alt1"><code class="js spaces">    </code><code class="js plain">}</code></div>
<div class="line number41 index40 alt2"><code class="js plain">}</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Windows 利用<span> </span><a href="https://letsencrypt.org/">Letsencrypt</a><span> </span>設定 https WWW 伺服器的套件工具:<span> </span><a href="http://229.cycu.org/certbot.7z">certbot.7z</a></p>
<p>安裝 certbot 之後關閉 WWW 伺服器, 然後利用管理者啟動的 cmd 執行的:</p>
<p><span>certbot certonly </span><span class="hljs-comment">--standalone</span></p>
<p><span class="hljs-comment">就可以取得 privkey.pem 與 fullchain.pem 等兩個網站的 https 數位簽章.</span></p>
<p><span class="hljs-comment">與 nginx 結合設定的 nginx.conf 如下:</span></p>
<div>
<div class="syntaxhighlighter js" id="highlighter_74153">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="gutter">
<div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
<div class="line number4 index3 alt1">4</div>
<div class="line number5 index4 alt2">5</div>
<div class="line number6 index5 alt1">6</div>
<div class="line number7 index6 alt2">7</div>
<div class="line number8 index7 alt1">8</div>
<div class="line number9 index8 alt2">9</div>
<div class="line number10 index9 alt1">10</div>
<div class="line number11 index10 alt2">11</div>
<div class="line number12 index11 alt1">12</div>
<div class="line number13 index12 alt2">13</div>
<div class="line number14 index13 alt1">14</div>
<div class="line number15 index14 alt2">15</div>
<div class="line number16 index15 alt1">16</div>
<div class="line number17 index16 alt2">17</div>
<div class="line number18 index17 alt1">18</div>
<div class="line number19 index18 alt2">19</div>
<div class="line number20 index19 alt1">20</div>
<div class="line number21 index20 alt2">21</div>
<div class="line number22 index21 alt1">22</div>
<div class="line number23 index22 alt2">23</div>
<div class="line number24 index23 alt1">24</div>
<div class="line number25 index24 alt2">25</div>
<div class="line number26 index25 alt1">26</div>
<div class="line number27 index26 alt2">27</div>
<div class="line number28 index27 alt1">28</div>
<div class="line number29 index28 alt2">29</div>
<div class="line number30 index29 alt1">30</div>
<div class="line number31 index30 alt2">31</div>
<div class="line number32 index31 alt1">32</div>
<div class="line number33 index32 alt2">33</div>
<div class="line number34 index33 alt1">34</div>
<div class="line number35 index34 alt2">35</div>
<div class="line number36 index35 alt1">36</div>
<div class="line number37 index36 alt2">37</div>
<div class="line number38 index37 alt1">38</div>
<div class="line number39 index38 alt2">39</div>
<div class="line number40 index39 alt1">40</div>
<div class="line number41 index40 alt2">41</div>
<div class="line number42 index41 alt1">42</div>
<div class="line number43 index42 alt2">43</div>
<div class="line number44 index43 alt1">44</div>
<div class="line number45 index44 alt2">45</div>
<div class="line number46 index45 alt1">46</div>
<div class="line number47 index46 alt2">47</div>
<div class="line number48 index47 alt1">48</div>
<div class="line number49 index48 alt2">49</div>
<div class="line number50 index49 alt1">50</div>
<div class="line number51 index50 alt2">51</div>
<div class="line number52 index51 alt1">52</div>
<div class="line number53 index52 alt2">53</div>
</td>
<td class="code">
<div class="container">
<div class="line number1 index0 alt2"><code class="js preprocessor">#user  nobody;</code></div>
<div class="line number2 index1 alt1"><code class="js plain">worker_processes  1;</code></div>
<div class="line number3 index2 alt2"> </div>
<div class="line number4 index3 alt1"><code class="js preprocessor">#error_log  logs/error.log;</code></div>
<div class="line number5 index4 alt2"><code class="js preprocessor">#error_log  logs/error.log  notice;</code></div>
<div class="line number6 index5 alt1"><code class="js preprocessor">#error_log  logs/error.log  info;</code></div>
<div class="line number7 index6 alt2"> </div>
<div class="line number8 index7 alt1"><code class="js preprocessor">#pid        logs/nginx.pid;</code></div>
<div class="line number9 index8 alt2"> </div>
<div class="line number10 index9 alt1"><code class="js plain">events {</code></div>
<div class="line number11 index10 alt2"><code class="js spaces">    </code><code class="js plain">worker_connections  1024;</code></div>
<div class="line number12 index11 alt1"><code class="js plain">}</code></div>
<div class="line number13 index12 alt2"> </div>
<div class="line number14 index13 alt1"><code class="js plain">http {</code></div>
<div class="line number15 index14 alt2"><code class="js spaces">    </code><code class="js plain">include       mime.types;</code></div>
<div class="line number16 index15 alt1"><code class="js spaces">    </code><code class="js plain">default_type  application/octet-stream;</code></div>
<div class="line number17 index16 alt2"> </div>
<div class="line number18 index17 alt1"><code class="js spaces">    </code><code class="js plain">sendfile        on;</code></div>
<div class="line number19 index18 alt2"><code class="js spaces">    </code><code class="js plain">keepalive_timeout  65;</code></div>
<div class="line number20 index19 alt1"> </div>
<div class="line number21 index20 alt2"><code class="js spaces">    </code><code class="js preprocessor"># Redirect HTTP to HTTPS</code></div>
<div class="line number22 index21 alt1"><code class="js spaces">    </code><code class="js plain">server {</code></div>
<div class="line number23 index22 alt2"><code class="js spaces">        </code><code class="js plain">listen [2001:288:6004:17:fff1:cc25::a099]:80;</code></div>
<div class="line number24 index23 alt1"><code class="js spaces">        </code><code class="js plain">server_name  w99.mde.nfu.edu.tw;</code></div>
<div class="line number25 index24 alt2"> </div>
<div class="line number26 index25 alt1"><code class="js spaces">        </code><code class="js keyword">return</code> <code class="js plain">301 https:</code><code class="js comments">//$host$request_uri;</code></div>
<div class="line number27 index26 alt2"><code class="js spaces">    </code><code class="js plain">}</code></div>
<div class="line number28 index27 alt1"> </div>
<div class="line number29 index28 alt2"><code class="js spaces">    </code><code class="js preprocessor"># HTTPS server</code></div>
<div class="line number30 index29 alt1"><code class="js spaces">    </code><code class="js plain">server {</code></div>
<div class="line number31 index30 alt2"><code class="js spaces">        </code><code class="js plain">listen [2001:288:6004:17:fff1:cc25::a099]:443 ssl;</code></div>
<div class="line number32 index31 alt1"><code class="js spaces">        </code><code class="js plain">server_name w99.mde.nfu.edu.tw;</code></div>
<div class="line number33 index32 alt2"> </div>
<div class="line number34 index33 alt1"><code class="js spaces">        </code><code class="js plain">ssl_certificate      C:/Certbot/live/w99.mde.nfu.edu.tw/fullchain.pem;</code></div>
<div class="line number35 index34 alt2"><code class="js spaces">        </code><code class="js plain">ssl_certificate_key  C:/Certbot/live/w99.mde.nfu.edu.tw/privkey.pem;</code></div>
<div class="line number36 index35 alt1"> </div>
<div class="line number37 index36 alt2"><code class="js spaces">        </code><code class="js plain">ssl_protocols        TLSv1.2 TLSv1.3;</code></div>
<div class="line number38 index37 alt1"><code class="js spaces">        </code><code class="js plain">ssl_ciphers          HIGH:!aNULL:!MD5;</code></div>
<div class="line number39 index38 alt2"> </div>
<div class="line number40 index39 alt1"><code class="js spaces">        </code><code class="js plain">location / {</code></div>
<div class="line number41 index40 alt2"><code class="js spaces">            </code><code class="js plain">root   html;</code></div>
<div class="line number42 index41 alt1"><code class="js spaces">            </code><code class="js plain">index  index.html index.htm;</code></div>
<div class="line number43 index42 alt2"><code class="js spaces">        </code><code class="js plain">}</code></div>
<div class="line number44 index43 alt1"> </div>
<div class="line number45 index44 alt2"><code class="js spaces">        </code><code class="js plain">error_page 404 /404.html;</code></div>
<div class="line number46 index45 alt1"><code class="js spaces">        </code><code class="js plain">location = /40x.html {</code></div>
<div class="line number47 index46 alt2"><code class="js spaces">        </code><code class="js plain">}</code></div>
<div class="line number48 index47 alt1"> </div>
<div class="line number49 index48 alt2"><code class="js spaces">        </code><code class="js plain">error_page 500 502 503 504 /50x.html;</code></div>
<div class="line number50 index49 alt1"><code class="js spaces">        </code><code class="js plain">location = /50x.html {</code></div>
<div class="line number51 index50 alt2"><code class="js spaces">        </code><code class="js plain">}</code></div>
<div class="line number52 index51 alt1"><code class="js spaces">    </code><code class="js plain">}</code></div>
<div class="line number53 index52 alt2"><code class="js plain">}</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>在 Windows 利用 nssm 將 nginx 的啟動設為系統服務:</p>
<p>在管理者權限下執行 cmd (nssm 必須提供位於實體目錄下的 nssm.exe):</p>
<p>nssm install nginx</p>
<p>編輯 nginx 服務:</p>
<p>nssm edit nginx</p>
<p>檢視或管理系統服務:</p>
<p>以滑鼠右鍵點選"開始"後, 選擇"電腦管理", 即可開啟系統的"服務與應用程式".</p>
<hr/>
<p>將<span> </span><a href="https://github.com/mdecycu/reeborg.git">https://github.com/mdecycu/reeborg.git</a> 設為作業倉儲的 submodule (子模組) 的指令:</p>
<p>cd wcmhw (確定執行目錄為作業倉儲)</p>
<p>git submodule add<span> </span><a href="https://github.com/mdecycu/reeborg.git">https://github.com/mdecycu/reeborg.git</a> reeborg</p>
<p>表示要將 <a href="https://github.com/mdecycu/reeborg.git">https://github.com/mdecycu/reeborg.git</a> 設為子模組, 且命名為 reeborg</p>
<hr/>
<p>Ubuntu:</p>
<p><a href="http://229.cycu.org/ubuntu-24.04.2-live-server-amd64.iso">ubuntu-24.04.2-live-server-amd64.iso</a></p>
<p><a href="http://229.cycu.org/ubuntu.vdi">http://229.cycu.org/ubuntu.vdi</a> </p>
<p>Virtualbox:</p>
<p><a href="http://229.cycu.org/VirtualBox-7.1.6-167084-Win.exe">VirtualBox-7.1.6-167084-Win.exe</a></p>
<p><a href="http://229.cycu.org/Portable-Virtualbox.7z">Portable-Virtualbox.7z</a></p>
<p>在同一個 Virtualbox 設定下, 使用同一個 .vdi, 必須要先修改其 UUID:</p>
<p>"C:\Program Files\Oracle\VirtualBox\VBoxManage" internalcommands sethduuid c:\users\yen\downloads\win10.vdi</p>
<h3>mind-map</h3>
<p><object data="https://mdewcm2025.github.io/hw-scrum-1/images/wcm.svg" data-mce-fragment="1" height="479" type="image/svg+xml" width="908"></object></p>
<p><a href="https://mde.tw/mind-map/?fileURL=https://mdewcm2025.github.io/hw-scrum-1/downloads/wcm.smm#/">edit wcm.smm</a></p>
<h2>tesk4</h2>
<h4>配置 Reeborg 網際系統</h4>
<h4>解析 Reeborg 系統架構</h4>
<h4>網際內容管理中的 Reeborg</h4>
<p><a href="https://mdewcm2025.github.io/hw-scrum-1/reeborg/?lang=en&amp;mode=python&amp;menu=/reeborg/worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=/hw-scrum-1/reeborg/worlds/tutorial_en/harvest1.json&amp;editor=/python/harvest1.py">https://mdewcm2025.github.io/hw-scrum-1/reeborg/?lang=en&amp;mode=python&amp;menu=/reeborg/worlds/menus/select_collection_en.json&amp;name=Alone&amp;url=/hw-scrum-1/reeborg/worlds/tutorial_en/harvest1.json&amp;editor=/python/harvest1.py</a></p>
<h1>Midterm</h1>
<p>2. 期中協同專案執行、簡報與報告 (三人一組) (30%)</p>
<p style="padding-left: 30px;">專案題目: 利用 Copilot 解析 <a href="https://mde.tw/reeborg/world.html">Reeborg's world</a> (<a href="https://github.com/mdecycu/reeborg">原始碼</a>)</p>
<h1>Final</h1>
<p>3. 期末協同專案執行、簡報與報告 (三人一組) (30%)</p>
<p style="padding-left: 30px;"><span>專案題目: 網際內容管理架構下的 <a href="https://mde.tw/reeborg/world.html">Reeborg's world</a> (<a href="https://github.com/mdecycu/reeborg">原始碼</a>)<br/></span></p>
<p style="padding-left: 60px;">利用 uwsgi 配置分組學員執行 cmsimde 動態內容管理系統編輯</p>
<p style="padding-left: 60px;">設法將 <a href="https://mde.tw/reeborg/world.html">Reeborg's world</a> (<a href="https://github.com/mdecycu/reeborg">原始碼</a>) 與 cmsimde 網際內容管理系統整合</p>
<h1>Brython</h1>
<p><button id="add1to100">1 add to 100</button></p>
<!-- 導入 brython 程式庫 -->
<p>
<script src="/static/brython.js"></script>
<script src="/static/brython_stdlib.js"></script>
</p>
<!-- 啟動 Brython -->
<p>
<script>
window.onload=function(){
brython({debug:1, pythonpath:['/static/','./../downloads/py/']});
}
</script>
</p>
<p><!-- 導入 FileSaver 與 filereader --></p>
<p>
<script src="/static/ace/FileSaver.min.js" type="text/javascript"></script>
<script src="/static/ace/filereader.js" type="text/javascript"></script>
</p>
<p><!-- 導入 ace --></p>
<p>
<script src="/static/ace/ace.js" type="text/javascript"></script>
<script src="/static/ace/ext-language_tools.js" type="text/javascript"></script>
<script src="/static/ace/mode-python3.js" type="text/javascript"></script>
<script src="/static/ace/snippets/python.js" type="text/javascript"></script>
</p>
<p><!-- 導入 gearUtils-0.9.js Cango 齒輪繪圖程式庫 -->
<script src="/static/Cango-24v03-min.js"></script>
<script src="/static/gearUtils-09.js"></script>
<script src="/static/SVGpathUtils-6v03-min.js"></script>
<script src="/static/sylvester.js"></script>
<script src="/static/PrairieDraw.js"></script>
</p>
<p><!-- 請注意, 這裡使用 Javascript 將 localStorage["kw_py_src1"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱--></p>
<p>
<script type="text/javascript">
function doSave(storage_id, filename){
    var blob = new Blob([localStorage[storage_id]], {type: "text/plain;charset=utf-8"});
    filename = document.getElementById(filename).value
    saveAs(blob, filename+".py");
}
</script>
</p>
<p>
<script type="text/python3">
from browser import document as doc
import ace
# 清除畫布
def clear_bd1(ev):
    bd = doc["brython_div1"]
    bd.clear()
Ace1 = ace.Editor(editor_id="kw_editor1", console_id="kw_console1", container_id="kw__container1", storage_id="kw_py_src1" )
# 從 gist 取出程式碼後, 放入 editor 作為 default 程式
def run1():
    # 利用 get 取下 src 變數值
    try:
        url = doc.query["src"]
    except:
        url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c3a6deaf717f8f2739a4b1392a5ab10936e9693a/from_1_add_to_10_1.py"
    prog = open(url).read()

    # 將程式載入編輯區
    Ace1.editor.setValue(prog)
    Ace1.editor.scrollToRow(0)
    Ace1.editor.gotoLine(0)
    # 直接執行程式
    #ns = {'__name__':'__main__'}
    #exec(prog, ns)
    # 按下 run 按鈕
    Ace1.run()

# 執行程式, 顯示輸出結果與清除輸出結果及對應按鈕綁定
doc['kw_run1'].bind('click', Ace1.run)
doc['kw_show_console1'].bind('click', Ace1.show_console)
doc['kw_clear_console1'].bind('click', Ace1.clear_console)
doc['clear_bd1'].bind('click', clear_bd1)
# 呼叫函式執行
run1()
</script>
</p>
<p><!-- add 1 to 100 開始 -->
<script type="text/python3">
from browser import document as doc
import ace

# 清除畫布
def clear_bd1(ev):
    bd = doc["brython_div1"]
    bd.clear()

# 利用 ace 中的 Editor 建立 Ace2 物件, 其中的輸入變數分別對應到頁面中的編輯區物件
Ace2 = ace.Editor(editor_id="kw_editor1", console_id="kw_console1", container_id="kw__container1", storage_id="kw_py_src1" )

add1to100_url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c48e37714f055c3a0027cbfef59e442a6ef659b9/from_1_add_to_100_1.py"

# 從 gist 取得程式碼
add_src = open(add1to100_url).read()
def add(ev):
    Ace2.editor.setValue(add_src)
    Ace2.editor.scrollToRow(0)
    Ace2.editor.gotoLine(0)
    Ace2.run()

# id 為 "add1to100" 的按鈕點按時, 執行 add 方法
doc["add1to100"].bind('click', add)
</script>
</p>
<p><!-- add 1 to 100 結束--></p>
<!-- editor1 開始 -->
<p><!-- 用來顯示程式碼的 editor 區域 --></p>
<div id="kw_editor1" style="width: 600px; height: 300px;"></div>
<p><!-- 以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合 --></p>
<p><!-- 存擋表單開始 --></p>
<form><label>Filename: <input id="kw_filename" placeholder="input file name" type="text"/>.py</label> <input onclick="doSave('kw_py_src1', 'kw_filename1');" type="submit" value="Save"/></form>
<p><!-- 存擋表單結束 --></p>
<p></p>
<p><!-- 執行與清除按鈕開始 --></p>
<p><button id="kw_run1">Run</button> <button id="kw_show_console1">Output</button> <button id="kw_clear_console1">清除輸出區</button><button id="clear_bd1">清除繪圖區</button><button onclick="window.location.reload()">Reload</button></p>
<p><!-- 執行與清除按鈕結束 --></p>
<p></p>
<p><!-- 程式執行 ouput 區 --></p>
<div style="width: 100%; height: 100%;"><textarea autocomplete="off" id="kw_console1"></textarea></div>
<p><!-- Brython 程式執行的結果, 都以 brython_div1 作為切入位置 --></p>
<div id="brython_div1"></div>
<!-- editor1 結束 --><hr/><!-- ########################################## -->
<p>從 1 累加到 100 part2:</p>
<p><button id="add1to100part2">1 add to 100</button><button id="cango_three_gears">cango_three_gears</button><button id="bsnake">BSnake</button><button id="aitetris">AI Tetris</button></p>
<p><!-- 請注意, 這裡使用 Javascript 將 localStorage["kw_py_src2"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱--></p>
<p>
<script type="text/python3">
from browser import document as doc
import ace
# 清除畫布
def clear_bd2(ev):
    bd = doc["brython_div2"]
    bd.clear()
Ace3 = ace.Editor(editor_id="kw_editor2", console_id="kw_console2", container_id="kw__container2", storage_id="kw_py_src2" )
# 從 gist 取出程式碼後, 放入 editor 作為 default 程式
def run2():
    # 利用 get 取下 src 變數值
    try:
        url = doc.query["src2"]
    except:
        url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c3a6deaf717f8f2739a4b1392a5ab10936e9693a/from_1_add_to_10_1.py"
    prog = open(url).read()

    # 將程式載入編輯區
    Ace3.editor.setValue(prog)
    Ace3.editor.scrollToRow(0)
    Ace3.editor.gotoLine(0)
    # 直接執行程式
    #ns = {'__name__':'__main__'}
    #exec(prog, ns)
    # 按下 run 按鈕
    Ace3.run()

# 執行程式, 顯示輸出結果與清除輸出結果及對應按鈕綁定
doc['kw_run2'].bind('click', Ace3.run)
doc['kw_show_console2'].bind('click', Ace3.show_console)
doc['kw_clear_console2'].bind('click', Ace3.clear_console)
doc['clear_bd2'].bind('click', clear_bd2)
# 呼叫函式執行
run2()
</script>
</p>
<p><!-- add 1 to 100 part2 開始 -->
<script type="text/python3">
from browser import document as doc
import ace

# 清除畫布
def clear_bd2(ev):
    bd = doc["brython_div2"]
    bd.clear()

# 利用 ace 中的 Editor 建立 Ace2 物件, 其中的輸入變數分別對應到頁面中的編輯區物件
Ace4 = ace.Editor(editor_id="kw_editor2", console_id="kw_console2", container_id="kw__container2", storage_id="kw_py_src2" )

# 透過 Ace4 以類別建立一個通用的 button2, 可以在多個案例中將 gist 程導入編輯區

class button2:
    def __init__(self, url):
        self.url = url

    # 記得加入 event 輸入變數
    def do(self,ev):
        Ace4.editor.setValue(open(self.url).read())
        Ace4.editor.scrollToRow(0)
        Ace4.editor.gotoLine(0)
        Ace4.run()

add1to100_url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c48e37714f055c3a0027cbfef59e442a6ef659b9/from_1_add_to_100_1.py"

# 從 gist 取得程式碼
add_src = open(add1to100_url).read()
def add2(ev):
    Ace4.editor.setValue(add_src)
    Ace4.editor.scrollToRow(0)
    Ace4.editor.gotoLine(0)
    Ace4.run()

# id 為 "add1to100part2" 的按鈕點按時, 執行 add 方法
doc["add1to100part2"].bind('click', add2)
# 以下為運用 button2 class 的通用 gist 程式導入區
################################## cango_three_gears start
cango_three_gears_url = "https://gist.githubusercontent.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d/raw/f7a85d737d6723d5e34c526d5daee990ed92c32b/cango_three_gears_brython_div2.py"
cango_three_gears = button2(cango_three_gears_url)
doc["cango_three_gears"].bind("click", cango_three_gears.do)
################################## cango_three_gears end
################################## bsnake start
bsnake_url = "https://gist.githubusercontent.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d/raw/f7a85d737d6723d5e34c526d5daee990ed92c32b/kmol_snakey.py"
bsnake = button2(bsnake_url)
doc["bsnake"].bind("click", bsnake.do)
################################## bsnake end
################################## aitetris start
aitetris_url = "https://gist.githubusercontent.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d/raw/f7a85d737d6723d5e34c526d5daee990ed92c32b/pygame_to_brython_tetris_ai.py"
aitetris = button2(aitetris_url)
doc["aitetris"].bind("click", aitetris.do)
################################## aitetris end
</script>
</p>
<p><!-- add 1 to 100 part2 結束--></p>
<!-- editor2 開始 -->
<p><!-- 用來顯示程式碼的 editor 區域 --></p>
<div id="kw_editor2" style="width: 600px; height: 300px;"></div>
<p><!-- 以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合 --></p>
<p><!-- 存擋表單開始 --></p>
<form><label>Filename: <input id="kw_filename2" placeholder="input file name" type="text"/>.py</label> <input onclick="doSave('kw_py_src2', 'kw_filename2');" type="submit" value="Save"/></form>
<p><!-- 存擋表單結束 --></p>
<p></p>
<p><!-- 執行與清除按鈕開始 --></p>
<p><button id="kw_run2">Run</button> <button id="kw_show_console2">Output</button> <button id="kw_clear_console2">清除輸出區</button><button id="clear_bd2">清除繪圖區</button><button onclick="window.location.reload()">Reload</button></p>
<p><!-- 執行與清除按鈕結束 --></p>
<p></p>
<p><!-- 程式執行 ouput 區 --></p>
<div style="width: 100%; height: 100%;"><textarea autocomplete="off" id="kw_console2"></textarea></div>
<p><!-- Brython 程式執行的結果, 都以 brython_div1 作為切入位置 --></p>
<div id="brython_div2"></div>
<!-- editor2 結束 --><hr/>
<p>
<script src="https://unpkg.com/three@0.144.0/build/three.js" type="text/javascript"></script>
</p>